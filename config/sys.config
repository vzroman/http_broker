[
  {http_broker, [
    {port, 7000},
    {ssl, [
      {cacertfile, "ca-chain.cert.pem"},
      {certfile, "cert.pem"},
      {keyfile, "key.pem"}
    ]},
    {endpoints, #{
      "endpoint1" => #{
        strategy => one,
        targets => #{
          "http://ODIN" => #{
            order => 1
%%          ssl => <optional> % ssl params for service
          }
        }
      },
      "endpoint2"=> #{
        strategy => one,
        targets => #{
          "http://DVA" => #{
            order => 0
%%          ssl => <optional> % ssl params for service
          }
        }
      },
      "endpoint3"=> #{
        strategy => one,
        targets => #{
          "http://THREE" => #{
            order => 0
%%          ssl => <optional> % ssl params for service
          }
        }
      },
      "endpoint4"=> #{
        strategy => all,
        targets => #{
          "http://127.0.0.1:7000/endpoint1" => #{
            order => -1
%%          ssl => <optional> % ssl params for service
          }
        }
      }}
    },
    {sending_from_queue_frequency, [{milliseconds, 1000}]},
    {max_age, [{days, 30}]},
    {queue_cleanup_frequency, [{milliseconds, 1000}]}
  ]},
  {kernel,[
    {logger_level, info},
    {logger,[
      { handler, console, logger_std_h, #{ level => info }},
      { handler, info, logger_std_h, #{ level => info, formatter => {logger_formatter, #{}}, config => #{
        file => "logs/console.log",
        max_no_bytes => 104857600,  % 100 MB
        max_no_files => 100
      }}},
      { handler, error, logger_std_h, #{ level => error, formatter => {logger_formatter, #{}}, config => #{
        file => "logs/error.log",
        max_no_bytes => 104857600,  % 100 MB
        max_no_files => 100
      }}}
    ]}
  ]}
].
